<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Final Deluxe Player v6</title>

<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: linear-gradient(160deg, #00111f, #00314e);
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }

  h1 {
    font-size: 22px;
    margin-bottom: 12px;
    color: #a8dfff;
  }

  .player-container {
    position: relative;
    width: 90%;
    max-width: 900px;
    background: #000;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
  }

  video {
    width: 100%;
    height: auto;
    border-radius: 16px;
    display: block;
  }

  #playButton {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: transparent;
    border: none;
    cursor: pointer;
  }

  #playButton img {
    width: 90px;
    height: 90px;
    opacity: 0.9;
    transition: 0.3s;
  }

  #playButton img:hover {
    opacity: 1;
    transform: scale(1.05);
  }

  .controls {
    display: flex;
    justify-content: center;
    align-items: center;
    background: #021c2b;
    padding: 10px;
    gap: 10px;
  }

  .controls input[type="range"] {
    width: 100px;
  }

  #timeDisplay {
    text-align: center;
    color: #a8dfff;
    margin-top: 8px;
    font-weight: bold;
  }

  .topbar {
    position: absolute;
    top: 8px;
    left: 12px;
    background: rgba(0,0,0,0.6);
    padding: 6px 12px;
    border-radius: 10px;
    font-size: 14px;
  }

  .dark-toggle {
    position: absolute;
    top: 10px;
    right: 12px;
    background: #00c6ff;
    border: none;
    color: #fff;
    font-weight: 600;
    border-radius: 8px;
    padding: 4px 10px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>🎬 Now Playing: Deluxe Player Experience</h1>

<div class="player-container">
  <div class="topbar">Now Playing</div>
  <button class="dark-toggle" id="themeToggle">🌙</button>

  <video id="player" poster="https://files.catbox.moe/m5cajh.png">
    <source src="https://files.catbox.moe/zwdegx.mp4" />
    Your browser does not support video.
  </video>

  <button id="playButton">
    <img src="https://files.catbox.moe/m5cajh.png" />
  </button>

  <div class="controls">
    <input type="range" id="volume" min="0" max="1" step="0.05" value="1" />
    <button id="ccBtn">CC</button>
    <button id="fullscreenBtn">⛶</button>
  </div>
</div>

<div id="timeDisplay">00:00</div>

<script>
// ============================
// Deluxe Player v6 — Redirect version
// ============================

const video = document.getElementById("player");
const playButton = document.getElementById("playButton");
const volumeSlider = document.getElementById("volume");
const fullscreenBtn = document.getElementById("fullscreenBtn");
const ccBtn = document.getElementById("ccBtn");
const timeDisplay = document.getElementById("timeDisplay");
const themeToggle = document.getElementById("themeToggle");

// Durasi virtual (90 menit = 5400 detik)
let virtualDuration = 5400; 
let virtualTime = 0;
let virtualTimer;

// ▶️ Tombol play
playButton.addEventListener("click", () => {
  if (video.paused) {
    video.play();
    startVirtual();
    playButton.style.display = "none";
  } else {
    video.pause();
    clearInterval(virtualTimer);
    playButton.style.display = "block";
  }
});

// 🔊 Volume
volumeSlider.addEventListener("input", () => {
  video.volume = volumeSlider.value;
});

// ⛶ Fullscreen
fullscreenBtn.addEventListener("click", () => {
  if (!document.fullscreenElement) {
    video.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
});

// 💬 CC
ccBtn.addEventListener("click", () => {
  alert("Subtitle/CC feature coming soon!");
});

// 🌙 Tema toggle
themeToggle.addEventListener("click", () => {
  document.body.classList.toggle("light-mode");
  if (document.body.classList.contains("light-mode")) {
    document.body.style.background = "linear-gradient(160deg,#ffffff,#b7e3ff)";
    document.body.style.color = "#000";
    themeToggle.textContent = "☀️";
  } else {
    document.body.style.background = "linear-gradient(160deg,#00111f,#00314e)";
    document.body.style.color = "#fff";
    themeToggle.textContent = "🌙";
  }
});

// 🕒 Virtual timer
function startVirtual() {
  virtualTimer = setInterval(() => {
    virtualTime++;
    updateTimeDisplay();
    if (virtualTime >= virtualDuration) {
      stopVirtual();
      redirectToLocker();
    }
  }, 1000);
}

function stopVirtual() {
  clearInterval(virtualTimer);
}

function updateTimeDisplay() {
  let minutes = Math.floor(virtualTime / 60);
  let seconds = virtualTime % 60;
  timeDisplay.textContent = `${minutes.toString().padStart(2,"0")}:${seconds.toString().padStart(2,"0")}`;
}

// 🎯 Redirect ke locker saat video selesai
function redirectToLocker() {
  window.location.href = "locker.html";
}

video.addEventListener("ended", () => {
  stopVirtual();
  redirectToLocker();
});
</script>

</body>
</html>
